# ‚ö†Ô∏è IMPORTANT - Click the RIGHT Button!

## The Issue

You have **TWO different buttons** for getting PDFs:

### 1. üîµ "Print Certificate" Button (WRONG for PDF download)
```
[üñ®Ô∏è Print Certificate]  ‚Üê This one opens browser print dialog
```
- Calls `window.print()`
- Opens browser's print dialog
- If you click "Save as PDF" here, you get **HTML-rendered PDF**
- This is what you described: HTML file with localhost images
- **This is NOT a proper PDF!**

### 2. üü¢ "Download PDF" Button (CORRECT)
```
[‚¨áÔ∏è Download PDF]  ‚Üê Click THIS one!
```
- Calls `api/download.php`
- Generates real PDF using SimplePDF
- Downloads actual PDF file
- **This is the proper PDF!**

## How to Tell Them Apart

**In the certificate view page, you'll see buttons in this order:**
```
[‚Üê Back] [üñ®Ô∏è Print] [‚¨áÔ∏è Download PDF] [View JSON] [View XML]
  Grey      Blue        GREEN          Info       Warning
```

## The Correct Way to Download

1. ‚úÖ **Click the GREEN "Download PDF" button**
2. ‚úÖ File will download as `certificate_XXX.pdf`
3. ‚úÖ This is a REAL PDF generated by SimplePDF
4. ‚úÖ It will open correctly

## The WRONG Way (What You Were Doing)

1. ‚ùå Click blue "Print Certificate" button
2. ‚ùå Browser print dialog opens
3. ‚ùå Click "Save as PDF" in print dialog
4. ‚ùå This saves the HTML page as PDF
5. ‚ùå Result: HTML file with .pdf extension (broken!)

## Quick Test

**Test if api/download.php works:**
1. Make sure you're logged in
2. Go to any certificate
3. Look at the URL bar - note the `id=X` number
4. Manually navigate to: `http://localhost/SYSTEMINTEG/api/download.php?id=X`
   (Replace X with the certificate ID)
5. PDF should download immediately

**Example:**
```
If certificate URL is: http://localhost/SYSTEMINTEG/views/view_certificate.php?id=5
Then download URL is: http://localhost/SYSTEMINTEG/api/download.php?id=5
```

## Verify You Have the Right File

**Real PDF (from Download PDF button):**
- File size: ~1.5KB
- Opens with: `%PDF-1.4`
- Contains: Binary PDF data
- Opens in: Any PDF reader

**Fake PDF (from Print ‚Üí Save as PDF):**
- File size: ~4KB+
- Opens with: `<!DOCTYPE html>`
- Contains: HTML markup
- Opens in: Browser only (as HTML)

## If Download PDF Button Doesn't Work

Then we have a real problem with `api/download.php`. But based on all our tests, it SHOULD work.

**Debug steps:**
1. Click the GREEN "Download PDF" button
2. Press F12 (open browser console)
3. Go to Network tab
4. Look for `download.php` request
5. Check:
   - Status: should be 200
   - Type: should be `pdf` or `application/pdf`
   - Size: should be ~1.5KB
6. Right-click the request ‚Üí "Open in new tab"
7. Does it download/open?

## Summary

**Problem:** You were clicking "Print Certificate" (blue) instead of "Download PDF" (green)

**Solution:** Click the **GREEN "Download PDF" button**!

---

**Try it now - click the GREEN button and it will work!** üéâ
